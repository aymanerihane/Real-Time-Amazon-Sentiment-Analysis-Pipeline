2025-05-08 14:28:08,069 - __main__ - INFO - Amazon Review Collector Service starting...
2025-05-08 14:28:08,069 - __main__ - INFO - Starting review scraping job
2025-05-08 14:28:08,070 - __main__ - INFO - Setting up Selenium WebDriver...
2025-05-08 14:28:08,070 - __main__ - INFO - Configuring Chrome options...
2025-05-08 14:28:08,071 - __main__ - INFO - Initializing Chrome WebDriver...
2025-05-08 14:28:08,748 - __main__ - ERROR - Failed to setup Selenium: Message: session not created: probably user data directory is already in use, please specify a unique value for --user-data-dir argument, or don't use --user-data-dir
Stacktrace:
#0 0x557763fc2bee <unknown>
#1 0x557763a7fbcb <unknown>
#2 0x557763ab65aa <unknown>
#3 0x557763ab1baf <unknown>
#4 0x557763b05bd8 <unknown>
#5 0x557763af3a73 <unknown>
#6 0x557763abdd19 <unknown>
#7 0x557763abeac8 <unknown>
#8 0x557763f8f56a <unknown>
#9 0x557763f929be <unknown>
#10 0x557763f92468 <unknown>
#11 0x557763f92e45 <unknown>
#12 0x557763f78cdb <unknown>
#13 0x557763f931b0 <unknown>
#14 0x557763f61c49 <unknown>
#15 0x557763fb1f55 <unknown>
#16 0x557763fb213b <unknown>
#17 0x557763fc1d65 <unknown>
#18 0x7f223e73b1f5 <unknown>

2025-05-08 14:28:08,750 - __main__ - ERROR - Error type: SessionNotCreatedException
2025-05-08 14:28:08,756 - __main__ - ERROR - Traceback:   File "/app/amazon_review_collector.py", line 67, in setup_selenium
    driver = webdriver.Chrome(options=chrome_options)
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/chrome/webdriver.py", line 49, in __init__
    super().__init__(
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/chromium/webdriver.py", line 54, in __init__
    super().__init__(
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/webdriver.py", line 206, in __init__
    self.start_session(capabilities)
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/webdriver.py", line 291, in start_session
    response = self.execute(Command.NEW_SESSION, caps)["value"]
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/webdriver.py", line 346, in execute
    self.error_handler.check_response(response)
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/errorhandler.py", line 245, in check_response
    raise exception_class(message, screen, stacktrace)

2025-05-08 14:28:08,757 - __main__ - ERROR - Error in scrape_reviews: Message: session not created: probably user data directory is already in use, please specify a unique value for --user-data-dir argument, or don't use --user-data-dir
Stacktrace:
#0 0x557763fc2bee <unknown>
#1 0x557763a7fbcb <unknown>
#2 0x557763ab65aa <unknown>
#3 0x557763ab1baf <unknown>
#4 0x557763b05bd8 <unknown>
#5 0x557763af3a73 <unknown>
#6 0x557763abdd19 <unknown>
#7 0x557763abeac8 <unknown>
#8 0x557763f8f56a <unknown>
#9 0x557763f929be <unknown>
#10 0x557763f92468 <unknown>
#11 0x557763f92e45 <unknown>
#12 0x557763f78cdb <unknown>
#13 0x557763f931b0 <unknown>
#14 0x557763f61c49 <unknown>
#15 0x557763fb1f55 <unknown>
#16 0x557763fb213b <unknown>
#17 0x557763fc1d65 <unknown>
#18 0x7f223e73b1f5 <unknown>

2025-05-08 14:28:08,757 - __main__ - ERROR - Error type: SessionNotCreatedException
2025-05-08 14:28:08,758 - __main__ - ERROR - Error details: Message: session not created: probably user data directory is already in use, please specify a unique value for --user-data-dir argument, or don't use --user-data-dir
Stacktrace:
#0 0x557763fc2bee <unknown>
#1 0x557763a7fbcb <unknown>
#2 0x557763ab65aa <unknown>
#3 0x557763ab1baf <unknown>
#4 0x557763b05bd8 <unknown>
#5 0x557763af3a73 <unknown>
#6 0x557763abdd19 <unknown>
#7 0x557763abeac8 <unknown>
#8 0x557763f8f56a <unknown>
#9 0x557763f929be <unknown>
#10 0x557763f92468 <unknown>
#11 0x557763f92e45 <unknown>
#12 0x557763f78cdb <unknown>
#13 0x557763f931b0 <unknown>
#14 0x557763f61c49 <unknown>
#15 0x557763fb1f55 <unknown>
#16 0x557763fb213b <unknown>
#17 0x557763fc1d65 <unknown>
#18 0x7f223e73b1f5 <unknown>

2025-05-08 14:28:08,765 - __main__ - ERROR - Traceback:   File "/app/amazon_review_collector.py", line 316, in scrape_reviews
    driver = setup_selenium()
  File "/app/amazon_review_collector.py", line 67, in setup_selenium
    driver = webdriver.Chrome(options=chrome_options)
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/chrome/webdriver.py", line 49, in __init__
    super().__init__(
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/chromium/webdriver.py", line 54, in __init__
    super().__init__(
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/webdriver.py", line 206, in __init__
    self.start_session(capabilities)
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/webdriver.py", line 291, in start_session
    response = self.execute(Command.NEW_SESSION, caps)["value"]
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/webdriver.py", line 346, in execute
    self.error_handler.check_response(response)
  File "/usr/local/lib/python3.9/site-packages/selenium/webdriver/remote/errorhandler.py", line 245, in check_response
    raise exception_class(message, screen, stacktrace)

2025-05-08 14:28:08,766 - __main__ - INFO - Completed review scraping job
2025-05-08 14:32:28,238 - __main__ - INFO - Amazon Review Collector Service starting...
2025-05-08 14:32:28,242 - __main__ - INFO - Starting review scraping job
2025-05-08 14:32:28,245 - __main__ - INFO - Setting up Selenium WebDriver...
2025-05-08 14:32:28,246 - __main__ - INFO - Configuring Chrome options...
2025-05-08 14:32:28,247 - __main__ - INFO - Initializing Chrome WebDriver...
2025-05-08 14:32:29,695 - __main__ - INFO - Chrome WebDriver initialized successfully
2025-05-08 14:32:29,696 - __main__ - INFO - Setting up Kafka producer...
2025-05-08 14:32:29,699 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-1 host=kafka1:9092 <connecting> [IPv4 ('172.18.0.5', 9092)]>: connecting to kafka1:9092 [('172.18.0.5', 9092) IPv4]
2025-05-08 14:32:29,702 - kafka.conn - INFO - Probing node bootstrap-1 broker version
2025-05-08 14:32:29,703 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-1 host=kafka1:9092 <connecting> [IPv4 ('172.18.0.5', 9092)]>: Connection complete.
2025-05-08 14:32:29,811 - kafka.conn - INFO - Broker version identified as 2.5.0
2025-05-08 14:32:29,811 - kafka.conn - INFO - Set configuration api_version=(2, 5, 0) to skip auto check_version requests on startup
2025-05-08 14:32:29,815 - __main__ - INFO - Attempting Amazon login...
2025-05-08 14:32:29,815 - __main__ - INFO - Attempting Amazon login (attempt 1/3)
2025-05-08 14:32:33,438 - __main__ - INFO - Saved homepage screenshot to /data/screenshots/amazon_login_attempt_1_homepage.png
2025-05-08 14:32:43,723 - __main__ - ERROR - Login attempt 1 failed: Message: 
Stacktrace:
#0 0x55b763cbdbee <unknown>
#1 0x55b76377abcb <unknown>
#2 0x55b7637c5004 <unknown>
#3 0x55b7637c5191 <unknown>
#4 0x55b763811f64 <unknown>
#5 0x55b7637eeced <unknown>
#6 0x55b76380fe85 <unknown>
#7 0x55b7637eea73 <unknown>
#8 0x55b7637b8d19 <unknown>
#9 0x55b7637b9ac8 <unknown>
#10 0x55b763c8a56a <unknown>
#11 0x55b763c8d9be <unknown>
#12 0x55b763c8d468 <unknown>
#13 0x55b763c8de45 <unknown>
#14 0x55b763c73cdb <unknown>
#15 0x55b763c8e1b0 <unknown>
#16 0x55b763c5cc49 <unknown>
#17 0x55b763cacf55 <unknown>
#18 0x55b763cad13b <unknown>
#19 0x55b763cbcd65 <unknown>
#20 0x7f7188b021f5 <unknown>

2025-05-08 14:32:43,870 - __main__ - INFO - Saved error screenshot to /data/screenshots/amazon_login_attempt_1_error.png
2025-05-08 14:32:51,541 - __main__ - INFO - Attempting Amazon login (attempt 2/3)
2025-05-08 14:32:54,644 - __main__ - INFO - Saved homepage screenshot to /data/screenshots/amazon_login_attempt_2_homepage.png
2025-05-08 14:33:04,944 - __main__ - ERROR - Login attempt 2 failed: Message: 
Stacktrace:
#0 0x55b763cbdbee <unknown>
#1 0x55b76377abcb <unknown>
#2 0x55b7637c5004 <unknown>
#3 0x55b7637c5191 <unknown>
#4 0x55b763811f64 <unknown>
#5 0x55b7637eeced <unknown>
#6 0x55b76380fe85 <unknown>
#7 0x55b7637eea73 <unknown>
#8 0x55b7637b8d19 <unknown>
#9 0x55b7637b9ac8 <unknown>
#10 0x55b763c8a56a <unknown>
#11 0x55b763c8d9be <unknown>
#12 0x55b763c8d468 <unknown>
#13 0x55b763c8de45 <unknown>
#14 0x55b763c73cdb <unknown>
#15 0x55b763c8e1b0 <unknown>
#16 0x55b763c5cc49 <unknown>
#17 0x55b763cacf55 <unknown>
#18 0x55b763cad13b <unknown>
#19 0x55b763cbcd65 <unknown>
#20 0x7f7188b021f5 <unknown>

2025-05-08 14:33:05,242 - __main__ - INFO - Saved error screenshot to /data/screenshots/amazon_login_attempt_2_error.png
2025-05-08 14:33:12,916 - __main__ - INFO - Attempting Amazon login (attempt 3/3)
